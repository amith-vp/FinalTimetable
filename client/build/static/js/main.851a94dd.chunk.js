(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{66:function(e,t,a){e.exports=a(96)},77:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),u=a.n(c),l=(a(71),a(138)),o=a(123),i=a(39),s=a(17),p=(a(77),a(28)),m=a(5),b=a.n(m),E=a(8),f=a(127),h=a(139),d=a(130),T=a(140),v=Object(s.b)((function(e){return{batch:e.batch}}),{changeCurrentTeacher:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a({type:"CHANGE_CURRENT_TEACHER",payload:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteCurrentTeacher:function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"DELETE_CURRENT_TEACHER"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},newTeacher:function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"ADD_TEACHER"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},renameCurrentTeacher:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a({type:"RENAME_CURRENT_TEACHER",payload:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.batch,a=t.batches,n=t.currentBatch,c=t.currentSubject,u=t.currentTeacher,l=e.classes,i=e.changeCurrentTeacher,s=e.deleteCurrentTeacher,p=e.newTeacher,m=e.renameCurrentTeacher,b=function(){document.getElementById("teacherName")&&document.getElementById("teacherName").focus()},E=a[n].subjects[c].teachers;return r.a.createElement("div",{className:l.inputSection},r.a.createElement(o.a,{variant:"h4",component:"h2"},"Teachers"),r.a.createElement("div",null,E.map((function(e,t){return r.a.createElement(f.a,{variant:t===u?"contained":"outlined",size:"large",color:"primary",className:l.buttons,onClick:function(){i(t),b()},key:t},e)})),r.a.createElement(f.a,{variant:"outlined",size:"large",color:"primary",className:l.buttons,onClick:function(){p(),b()}},"Add Teacher")),r.a.createElement("div",null,-1!==u?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{autoFocus:!0,label:"Teacher Name",variant:"outlined",id:"teacherName",value:E[u],onChange:function(e){var t=e.target.value;return m(t)}}),r.a.createElement(d.a,{"aria-label":"delete",onClick:s},r.a.createElement(T.a,null))):r.a.createElement(r.a.Fragment,null)))})),C=Object(s.b)((function(e){return{batch:e.batch}}),{changeCurrentSubject:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a({type:"CHANGE_CURRENT_SUBJECT",payload:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changeCurrentSubjectMax:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"CHANGE_CURRENT_SUBJECT_MAX",payload:parseInt(e)});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changeCurrentSubjectMin:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a({type:"CHANGE_CURRENT_SUBJECT_MIN",payload:parseInt(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changeCurrentSubjectStep:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a({type:"CHANGE_CURRENT_SUBJECT_STEP",payload:parseInt(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteCurrentSubject:function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"DELETE_CURRENT_SUBJECT"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},newSubject:function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"NEW_SUBJECT"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},renameCurrentSubject:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a({type:"RENAME_CURRENT_SUBJECT",payload:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setDefaultSubjectMax:function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_DEFAULT_SUBJECT_MAX"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setDefaultSubjectMin:function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"SET_DEFAULT_SUBJECT_MIN"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setDefaultSubjectStep:function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"SET_DEFAULT_SUBJECT_STEP"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.batch,a=t.batches,n=t.currentBatch,c=t.currentSubject,u=e.changeCurrentSubject,l=e.changeCurrentSubjectMax,i=e.changeCurrentSubjectMin,s=e.changeCurrentSubjectStep,p=e.classes,m=e.deleteCurrentSubject,b=e.newSubject,E=e.renameCurrentSubject,C=e.setDefaultSubjectMax,j=e.setDefaultSubjectMin,y=e.setDefaultSubjectStep,g=function(){document.getElementById("subjectName")&&document.getElementById("subjectName").focus()},_=a[n].subjects;return r.a.createElement("div",{className:p.inputSection},r.a.createElement(o.a,{variant:"h4",component:"h2"},"Subjects"),r.a.createElement("div",null,_.map((function(e,t){return r.a.createElement(f.a,{variant:t===c?"contained":"outlined",size:"large",color:"primary",className:p.buttons,onClick:function(){u(t),g()},key:t},e.name)})),r.a.createElement(f.a,{variant:"outlined",size:"large",color:"primary",className:p.buttons,onClick:function(){b(),g()}},"Add Subject")),r.a.createElement("div",null,-1!==c?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{autoFocus:!0,label:"Subject Name",variant:"outlined",id:"subjectName",value:_[c].name,onChange:function(e){var t=e.target.value;return E(t)}}),r.a.createElement(d.a,{"aria-label":"delete",onClick:m},r.a.createElement(T.a,null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h.a,{label:"Minimum Limit",variant:"outlined",type:"number",value:_[c].min,onChange:function(e){var t=e.target.value;return i(t)}}),r.a.createElement(f.a,{color:"primary",size:"large",onClick:j},"Set as default"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h.a,{label:"Maximum Limit",variant:"outlined",type:"number",value:_[c].max,onChange:function(e){var t=e.target.value;return l(t)}}),r.a.createElement(f.a,{color:"primary",size:"large",onClick:C},"Set as default"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h.a,{label:"Step",variant:"outlined",type:"number",value:_[c].step,onChange:function(e){var t=e.target.value;return s(t)}}),r.a.createElement(f.a,{color:"primary",size:"large",onClick:y},"Set as default"),r.a.createElement(v,{classes:p})):r.a.createElement(r.a.Fragment,null)))})),j=a(33),y=a.n(j),g=Object(s.b)((function(e){return{batch:e.batch}}),{changeCurrentBatch:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a({type:"CHANGE_CURRENT_BATCH",payload:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteCurrentBatch:function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"DELETE_CURRENT_BATCH"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},loadData:function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/load");case 2:a=e.sent,t({type:"LOAD_BATCH",payload:a.data.b}),t({type:"TIME_TABLE",payload:a.data.t});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},newBatch:function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"ADD_BATCH"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},renameCurrentBatch:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a({type:"RENAME_CURRENT_BATCH",payload:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveBatch:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},t.next=4,y.a.post("/save",{batches:e},n);case 4:"Saved"===t.sent.data.msg&&alert("Saved"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.batch,a=t.batches,c=t.currentBatch,u=e.changeCurrentBatch,l=e.classes,i=e.deleteCurrentBatch,s=e.loadData,m=e.newBatch,v=e.renameCurrentBatch,j=e.saveBatch;Object(n.useEffect)((function(){(function(){var e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:N(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var y=function(){document.getElementById("batchName")&&document.getElementById("batchName").focus()},g=Object(n.useState)(!0),_=Object(p.a)(g,2),S=_[0],N=_[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.inputSection},r.a.createElement(o.a,{variant:"h4",component:"h2"},"Batches"),r.a.createElement(f.a,{variant:"contained",size:"large",color:"primary",className:l.buttons,onClick:function(){j(a)}},"Save"),r.a.createElement("div",null,a.map((function(e,t){return r.a.createElement(f.a,{variant:t===c?"contained":"outlined",size:"large",color:"primary",className:l.buttons,onClick:function(){u(t),y()},key:t},e.name)})),r.a.createElement(f.a,{variant:"outlined",size:"large",color:"primary",className:l.buttons,onClick:function(){m(),y()}},"Add Batch")),r.a.createElement("div",null,-1!==c?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{autoFocus:!0,label:"Batch Name",variant:"outlined",id:"batchName",value:a[c].name,onChange:function(e){var t=e.target.value;return v(t)}}),r.a.createElement(d.a,{"aria-label":"delete",onClick:i},r.a.createElement(T.a,null)),r.a.createElement(C,{classes:l})):r.a.createElement(r.a.Fragment,null))),S?r.a.createElement("div",{style:{display:"flex",position:"fixed",height:"100%",width:"100%",alignContent:"center",justifyContent:"center",backgroundColor:"white",top:0,bottom:0,left:0,right:0,zIndex:100,flexDirection:"column",textAlign:"center"}},r.a.createElement(o.a,{component:"p",variant:"h4"},"Loading")):r.a.createElement(r.a.Fragment,null))})),_=a(20),S=a(57),N=a(58),R=a(16),A=a(12),B={batches:[],currentBatch:-1,currentSubject:-1,currentTeacher:-1,defaultMax:0,defaultMin:0,defaultStep:0},w={timetable:[],error:null,loading:!1},O=Object(_.combineReducers)({batch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,a=e.batches,n=e.currentBatch,r=e.currentSubject,c=e.currentTeacher,u=e.defaultMax,l=e.defaultMin,o=e.defaultStep,i=a,s=-1===n?null:a[n].subjects,p=-1===n||-1===r?null:a[n].subjects[r].teachers,m=0;switch(t.type){case"CHANGE_CURRENT_BATCH":return""===a[a.length-1].name&&i.pop(),Object(A.a)({},e,{batches:i,currentBatch:t.payload,currentSubject:-1,currentTeacher:-1});case"CHANGE_CURRENT_SUBJECT":return""===s[s.length-1].name&&i[n].subjects.pop(),Object(A.a)({},e,{batches:i,currentSubject:t.payload,currentTeacher:-1});case"CHANGE_CURRENT_TEACHER":return""===p[p.length-1]&&i[n].subjects[r].teachers.pop(),Object(A.a)({},e,{batches:i,currentTeacher:t.payload});case"CHANGE_CURRENT_SUBJECT_MAX":return i[n].subjects[r].max=t.payload,Object(A.a)({},e,{batches:i});case"CHANGE_CURRENT_SUBJECT_MIN":return i[n].subjects[r].min=t.payload,Object(A.a)({},e,{batches:i});case"CHANGE_CURRENT_SUBJECT_STEP":return i[n].subjects[r].step=t.payload,Object(A.a)({},e,{batches:i});case"DELETE_CURRENT_BATCH":return Object(A.a)({},e,{batches:a.filter((function(e,t){return t!==n})),currentBatch:-1,currentSubject:-1,currentTeacher:-1});case"DELETE_CURRENT_SUBJECT":return i[n].subjects=s.filter((function(e,t){return t!==r})),Object(A.a)({},e,{batches:i,currentSubject:-1,currentTeacher:-1});case"DELETE_CURRENT_TEACHER":return i[n].subjects[r].teachers=p.filter((function(e,t){return t!==c})),Object(A.a)({},e,{batches:i,currentTeacher:-1});case"LOAD_BATCH":return Object(A.a)({},B,{},t.payload);case"ADD_BATCH":return(m=a.length-1)<0||""!==a[m].name?Object(A.a)({},e,{batches:[].concat(Object(R.a)(a),[{name:"",subjects:[]}]),currentBatch:m+1,currentSubject:-1,currentTeacher:-1}):e;case"NEW_SUBJECT":return(m=s.length-1)<0||""!==s[m].name?(i[n].subjects.push({name:"",teachers:[],max:u,min:l,step:o}),Object(A.a)({},e,{batches:i,currentSubject:m+1,currentTeacher:-1})):e;case"ADD_TEACHER":return(m=p.length-1)<0||""!==p[m].name?(i[n].subjects[r].teachers.push(""),Object(A.a)({},e,{batches:i,currentTeacher:m+1})):e;case"RENAME_CURRENT_BATCH":return i[n].name=t.payload,Object(A.a)({},e,{batches:i});case"RENAME_CURRENT_SUBJECT":return i[n].subjects[r].name=t.payload,Object(A.a)({},e,{batches:i});case"RENAME_CURRENT_TEACHER":return i[n].subjects[r].teachers[c]=t.payload,Object(A.a)({},e,{batches:i});case"SET_DEFAULT_SUBJECT_MAX":return Object(A.a)({},e,{defaultMax:a[n].subjects[r].max});case"SET_DEFAULT_SUBJECT_MIN":return Object(A.a)({},e,{defaultMin:a[n].subjects[r].min});case"SET_DEFAULT_SUBJECT_STEP":return Object(A.a)({},e,{defaultStep:a[n].subjects[r].step});default:return e}},timetable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIME_TABLE":return Object(A.a)({},t.payload,{error:null,loading:!1});case"TIME_TABLE_ERROR":var a="Failed to generate. Please try again.";return"failed"!==t.payload.msg&&(a="The maximum limits in "+t.payload.batch+" are too low."),{timetable:[],error:a,loading:!1};case"TIME_TABLE_LOADING":return{timetable:[],error:null,loading:!0};default:return e}}}),x=[N.a],U=Object(_.createStore)(O,{},Object(S.composeWithDevTools)(_.applyMiddleware.apply(void 0,x))),k=a(131),M=a(132),H=a(129),D=a(133),L=a(134),I=a(135),J=a(136),F=a(137),G=Object(s.b)((function(e){return{batch:e.batch,timetable:e.timetable}}),{generateTimetable:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"TIME_TABLE_LOADING"}),t.prev=1,n={headers:{"Content-Type":"application/json"}},t.next=5,y.a.post("/generate",{batches:e},n);case 5:(r=t.sent).data.msg?a({type:"TIME_TABLE_ERROR",payload:r.data}):a({type:"TIME_TABLE",payload:r.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.batch.batches,a=e.classes,n=e.timetable,c=n.timetable,u=n.error,l=n.loading,i=e.generateTimetable;return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{className:a.wrapper},r.a.createElement(f.a,{variant:"contained",color:"secondary",size:"large",className:a.buttons,disabled:l,onClick:function(){return i(t)}},"Generate Timetable"),l&&r.a.createElement(k.a,{size:24,className:a.buttonProgress})),null!==u?r.a.createElement(o.a,{variant:"body1",component:"p"},u):r.a.createElement(r.a.Fragment,null,c.map((function(e,t){return r.a.createElement(M.a,{component:H.a,className:a.tableContainer,key:t},r.a.createElement(D.a,{className:a.table},r.a.createElement(L.a,null,r.a.createElement(I.a,null,r.a.createElement(J.a,null,e.name),r.a.createElement(J.a,{align:"center"},"Hour 1"),r.a.createElement(J.a,{align:"center"},"Hour 2"),r.a.createElement(J.a,{align:"center"},"Hour 3"),r.a.createElement(J.a,{align:"center"},"Hour 4"),r.a.createElement(J.a,{align:"center"},"Hour 5"),r.a.createElement(J.a,{align:"center"},"Hour 6"),r.a.createElement(J.a,{align:"center"},"Hour 7"))),r.a.createElement(F.a,null,e.classes.map((function(e,t){return r.a.createElement(I.a,{key:t},r.a.createElement(J.a,{component:"th",scope:"row"},"Day ",t+1),e.map((function(e,t){return r.a.createElement(J.a,{align:"center",key:t},e[0],r.a.createElement("br",null),e[1])})))})))))}))))})),z=Object(l.a)((function(e){return{buttons:{margin:e.spacing(3),marginLeft:"0px",textTransform:"none"},buttonProgress:{color:i.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-24},inputSection:{margin:e.spacing(6)+"px 0px "+e.spacing(3)+"px 0px"},root:{display:"flex",flexDirection:"column",height:"100%",margin:e.spacing(6),paddingTop:e.spacing(24)},table:{minWidth:650},tableContainer:{margin:e.spacing(6)+"px 0px"},wrapper:{margin:e.spacing(1),position:"relative"}}})),P=function(){var e=z();return r.a.createElement(s.a,{store:U},r.a.createElement("div",{className:e.root},r.a.createElement(o.a,{variant:"h3",component:"h1"},"Timetable Generator"),r.a.createElement(g,{classes:e}),r.a.createElement(G,{classes:e})))};u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.851a94dd.chunk.js.map